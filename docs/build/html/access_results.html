<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Accessing results &mdash; PEACOC 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=f6245a2f"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Accessing metadata and diagnostics metrics" href="access_metadata.html" />
    <link rel="prev" title="Output" href="output.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PEACOC
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="setting_parameters.html">Setting parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="LFP_to_bursts.html">EA detection and classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Output</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Accessing results</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python">Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setting-things-up">Setting things up</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initialize-recording-object">Initialize recording object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualize-ea-sequences">Visualize EA sequences</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-the-results-examples">Accessing the results (examples)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directly-extract-data-from-hdf5">Directly extract data from hdf5</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#matlab">Matlab</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="access_metadata.html">Accessing metadata and diagnostics metrics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PEACOC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Accessing results</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/access_results.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="accessing-results">
<span id="access-results"></span><h1>Accessing results<a class="headerlink" href="#accessing-results" title="Permalink to this heading"></a></h1>
<p>Here is how to use the modules and scripts that allow you to conveniently access and visualize the results stored
during analyses in the <a class="reference internal" href="output.html#resultshdf5"><span class="std std-ref">main output hdf5-file</span></a>. We provide access tools for both <a class="reference internal" href="#python-access"><span class="std std-ref">Python</span></a> and
<a class="reference internal" href="#matlab-access"><span class="std std-ref">Matlab</span></a>, but note that the access through Python provides more advanced features.</p>
<section id="python">
<span id="python-access"></span><h2>Python<a class="headerlink" href="#python" title="Permalink to this heading"></a></h2>
<section id="setting-things-up">
<h3>Setting things up<a class="headerlink" href="#setting-things-up" title="Permalink to this heading"></a></h3>
<p>Make sure that you are in the virtual environment for PEACOC (in case you decided to use one):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">workon</span> <span class="n">peacoc</span>
</pre></div>
</div>
<p>For me, the command line now looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(peacoc) weltgeischt@heulsuse:~/PEACOC_tutorial$
</pre></div>
</div>
<p>Navigate into the directory of PEACOC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">cd</span> <span class="n">PEACOC</span>
</pre></div>
</div>
<p>I am now in (pwd for showing the current directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">pwd</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">weltgeischt</span><span class="o">/</span><span class="n">PEACOC_tutorial</span><span class="o">/</span><span class="n">PEACOC</span>
</pre></div>
</div>
<p>Start python or ipython:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">ipython</span>
</pre></div>
</div>
<p>From within python, we first import some useful modules:</p>
</section>
<section id="initialize-recording-object">
<h3>Initialize recording object<a class="headerlink" href="#initialize-recording-object" title="Permalink to this heading"></a></h3>
<p>There are two ways to initialize a recording object and thereby gain access to the data. First,
you can initialize a recording object with its parameter file.</p>
<p>Alternatively, you could initialize it directly with the <a class="reference internal" href="output.html#resultshdf5"><span class="std std-ref">results file</span></a> results file.
If you want to plot colorful bursts, this option also requires you to give the path to the SOM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you dislike objects and want to extract the data directly from the hdf5 file, you are
allowed to <a class="reference internal" href="#direct-hdf5access"><span class="std std-ref">skip ahead</span></a>.</p>
</div>
</section>
<section id="visualize-ea-sequences">
<h3>Visualize EA sequences<a class="headerlink" href="#visualize-ea-sequences" title="Permalink to this heading"></a></h3>
<p>Now let’s plot the LFP and the EA we detected:</p>
<p>In the resulting plot you see the LFP trace (bottom), all spikes detected (middle, red ticks), and the sequence
of bursts (top colored according to category) and solitary spikes (black ticks). The part of the LFP that we
annotated as artifact was disregarded for analyses and is shown in a yellow shade:</p>
<a class="reference internal image-reference" href="_images/access_tshirt.png"><img alt="_images/access_tshirt.png" class="align-center" src="_images/access_tshirt.png" style="width: 700px;" /></a>
<p>In this representation you see t-shirt size categorization which allow for a finer distinction that
the one given in the <em>paper_</em>. <cite>XS</cite> and <cite>S</cite> bursts correspond to <cite>low-load</cite> bursts, <cite>M</cite> bursts are <cite>medium-load</cite> bursts,
and <cite>XL</cite> and <cite>L</cite> bursts correspond to <cite>high-load</cite> bursts. In this representation bursts with a spike load index = 1
(<cite>LI1</cite>) are marked in purple (technically these are also <cite>XL</cite> bursts).</p>
<p>If you prefer the more compact, <strong>load-based categorizations</strong> (as in the papers) you can switch the naming scheme
and coloring by executing:</p>
<p>As you can see when plotting now, colors and cluster identity are now given in the load scheme:</p>
<a class="reference internal image-reference" href="_images/access_loadplot.png"><img alt="_images/access_loadplot.png" class="align-center" src="_images/access_loadplot.png" style="width: 700px;" /></a>
</section>
<section id="accessing-the-results-examples">
<h3>Accessing the results (examples)<a class="headerlink" href="#accessing-the-results-examples" title="Permalink to this heading"></a></h3>
<p>The recording object provides a convenient access to everything that was analyzed:</p>
<p>You can directy extract the <strong>spiketimes</strong> and e.g. calculate the overall <strong>spike rate</strong> from it:</p>
<p>Our recording object contains a list of burst objects, that is the bursts that happend during the recording:</p>
<p>Each <strong>burst object</strong> has a start and stop point in time (<cite>.start</cite>,`.stop`), a duration (<cite>.dur</cite>), a category (<cite>.cname</cite>),
a color (<cite>.color</cite>, useful for plotting), a listing of its constituent spikes (<cite>.spiketimes</cite>), a spike load index
(<cite>.si</cite>) and a few other properties.</p>
<p>You can <strong>collect burst objects</strong> of a certain type and perform computations on them.
Let’s e.g. collect high-load bursts and calculate their rate:</p>
<p>Similarly we can also calculate the absolute <strong>time spent in high-load bursts</strong> and the fraction of time
spent in high-load bursts:</p>
<p>You can also address <strong>EA-free snippets</strong> as objects, in a way very similar to bursts:</p>
<p>If you want to concentrate your analysis on a particular <strong>cutout</strong> of data you can do so too.
The cutout can then be analysed and visualized in the same way as a the whole recording</p>
<a class="reference internal image-reference" href="_images/access_cutout.png"><img alt="_images/access_cutout.png" class="align-center" src="_images/access_cutout.png" style="width: 700px;" /></a>
</section>
<section id="directly-extract-data-from-hdf5">
<span id="direct-hdf5access"></span><h3>Directly extract data from hdf5<a class="headerlink" href="#directly-extract-data-from-hdf5" title="Permalink to this heading"></a></h3>
<p>You can also directly extract the data directly from the <a class="reference internal" href="output.html#resultshdf5"><span class="std std-ref">main results file</span></a>.
If you want to operate with data-arrays directly this might be a more efficient solution.
In the following, <cite>datapath</cite> refers to the path of the main results file.</p>
<p>As you have seen, you can get out a lot from the data. Happy hacking and exploring!</p>
</section>
</section>
<section id="matlab">
<span id="matlab-access"></span><h2>Matlab<a class="headerlink" href="#matlab" title="Permalink to this heading"></a></h2>
<p>Accessing the results in matlab is very similar to accessing them in python (e.g. <cite>aRec.spiketimes</cite> for getting the spiketrain, see
<a class="reference internal" href="#python-access"><span class="std std-ref">previous section</span></a>).
Have a look at the example in <em>PEACOC/examples/matlab/use_matlab.m</em>. As some of the fancier features (e.g. plotting)
are not developed yet, you are very welcome to expand the reader for matlab access at <em>PEACOC/examples/matlab/READEA.m</em>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="output.html" class="btn btn-neutral float-left" title="Output" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="access_metadata.html" class="btn btn-neutral float-right" title="Accessing metadata and diagnostics metrics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Katharina Heining.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>